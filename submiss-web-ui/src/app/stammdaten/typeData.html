<!--
  ~  Submiss, eProcurement system for managing tenders
  ~  Copyright (C) 2019 Stadt Bern
  ~  Licensed under the EUPL, Version 1.2 or - as soon as they will be approved by the European Commission - subsequent versions of the EUPL (the "Licence");
  ~  You may not use this work except in compliance with the Licence.
  ~  You may obtain a copy of the Licence at:
  ~  https://joinup.ec.europa.eu/collection/eupl
  ~  Unless required by applicable law or agreed to in writing, software distributed under the Licence is
  ~  distributed on an "AS IS" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
  ~  express or implied. See the Licence for the specific language governing permissions and limitations
  ~  under the Licence.
  -->

<div class="row">
  <div class="col-sm-12">
    <h2 class="page-title">{{typeDataCtrl.typeName}}</h2>
  </div>
</div>
<div class="row">
  <div class="card-box">
    <div class="col-sm-12 ToolbarContainer">
      <div class="btn-toolbar pull-right" role="toolbar">
        <button type="submit" class="btn btn-primary" ng-if="typeDataCtrl.newEntryPossible()"
          ng-click="typeDataCtrl.editTypeData(null)"><i class="fa fa-plus" aria-hidden="true"></i> Neuer
          Eintrag</button>
      </div>
    </div>
    <div class="col-sm-12">
      <div ng-table-pagination="typeDataCtrl.tableParams" template-url="'app/layout/pager.html'"></div>
      <div class="table-responsive">
        <table ng-table="typeDataCtrl.tableParams" class="table table-striped" show-filter="true">
          <tr ng-repeat="typeData in $data">
            <td ng-if="!typeDataCtrl.isSettings" title="'Beschreibung'" filter="{'description': 'text'}"
              sortable="'description'">{{typeData.description}}</td>
            <td ng-if="typeDataCtrl.isSettings" title="'Kennung'" filter="{'description': 'text'}"
              sortable="'description'">{{typeData.description}}</td>
            <td ng-if="typeDataCtrl.additionalInformationRequired(typeDataCtrl.type)"
              title="typeDataCtrl.additionalTitle" filter="{'addedDescription': 'text'}" sortable="'addedDescription'">
              {{typeData.addedDescription}}</td>
            <td ng-if="typeDataCtrl.isDepartment" title="'Direktion'" filter="{'directorateName': 'text'}"
              sortable="'directorateName'">{{typeData.directorateName}}</td>
            <td ng-if="typeDataCtrl.isDepartment || typeDataCtrl.isDirectorate" title="'Adresse'"
              filter="{'address': 'text'}" sortable="'address'">{{typeData.address}}</td>
            <td ng-if="typeDataCtrl.isDepartment || typeDataCtrl.isDirectorate" title="'Ort'"
              filter="{'location': 'text'}" sortable="'location'">{{typeData.location}}</td>
            <td ng-if="typeDataCtrl.isCountry" title="'Telefon-Vorwahl'" filter="{'telPrefix': 'text'}"
              sortable="'telPrefix'">{{typeData.telPrefix}}</td>
            <td ng-if="typeDataCtrl.isTypeLogib()" title="'Mitarbeiteranzahl'" filter="{'workerNumber': 'number'}"
              sortable="'workerNumber'">{{typeData.workerNumber}}</td>
            <td ng-if="typeDataCtrl.isTypeLogib()" title="'Anzahl Frauen'" filter="{'womenNumber': 'number'}"
              sortable="'womenNumber'">{{typeData.womenNumber}}</td>
            <td ng-if="typeDataCtrl.isTypeLogib()" title="'Anzahl Männer'" filter="{'menNumber': 'number'}"
              sortable="'menNumber'">{{typeData.menNumber}}</td>
            <td ng-if="typeDataCtrl.isTypeProofs()" title="'Land'" filter="{'countryName': 'text'}"
              sortable="'countryName'">{{typeData.countryName}}</td>
            <td ng-if="typeDataCtrl.isTypeProofs()" title="'Gültigkeit (Monate)'" filter="{'validityPeriod': 'number'}"
              sortable="'validityPeriod'">{{typeData.validityPeriod}}</td>
            <td ng-if="typeDataCtrl.isTypeProofs()" title="'Sortierung'" filter="{'proofOrder': 'number'}"
              sortable="'proofOrder'">{{typeData.proofOrder}}</td>
            <td ng-if="typeDataCtrl.isTypeProofs()" title="'Erforderlich'" filter="{'required': 'select'}"
              filter-data="typeDataCtrl.yesOrNo" sortable="'required'" translate>{{typeData.required}}</td>
            <td ng-if="typeDataCtrl.isTypeEmailTemplate()" title="'Verfügbar'" filter="{'availablePart': 'select'}"
              filter-data="typeDataCtrl.availablePartChoices" sortable="'availablePart'" translate>
              {{typeData.availablePart}}</td>
            <td ng-if="!typeDataCtrl.isSettings && !typeDataCtrl.isProcessType() && !typeDataCtrl.isTemplateType()"
              title="'Aktiv'" filter="{'isActive': 'select'}" filter-data="typeDataCtrl.yesOrNo" sortable="'isActive'"
              translate>{{typeData.isActive}}</td>
            <td title="Aktion">
              <button type="button" ng-disabled="typeDataCtrl.isEditAllowed(typeData.shortCode)"
                ng-if="!typeDataCtrl.isTemplateType()" ng-click="typeDataCtrl.editTypeData(typeData.id)"
                class="btn action btn-primary" title="Bearbeiten">
                <div class="fa fa-pencil"></div>
              </button>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
