<!--
  ~  Submiss, eProcurement system for managing tenders
  ~  Copyright (C) 2019 Stadt Bern
  ~  Licensed under the EUPL, Version 1.2 or - as soon as they will be approved by the European Commission - subsequent versions of the EUPL (the "Licence");
  ~  You may not use this work except in compliance with the Licence.
  ~  You may obtain a copy of the Licence at:
  ~  https://joinup.ec.europa.eu/collection/eupl
  ~  Unless required by applicable law or agreed to in writing, software distributed under the Licence is
  ~  distributed on an "AS IS" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
  ~  express or implied. See the Licence for the specific language governing permissions and limitations
  ~  under the Licence.
  -->

<div class="row" ng-style="jointVentureDetailsCtrl.divRowStyle()">

  <form name="jointVentureDetailsCtrl.jointVentureForm">
    <fieldset>
      <div class="col-sm-12">
        <div class="alert alert-danger" ng-if="jointVentureDetailsCtrl.jointVentureForm.$invalid" role="alert">
          <field-error form-element-name="optimisticLockErrorField" translate name="error"></field-error>
        </div>
        <input name="optimisticLockErrorField" ng-hide="true" data-ng-model="fd"></input>
      </div>
    </fieldset>
  </form>

  <fieldset ng-disabled="jointVentureDetailsCtrl.disabledForm()" ng-style="jointVentureDetailsCtrl.fieldsetStyle()">
    <div class="col-sm-12 ToolbarContainer">
      <div class="btn-toolbar" role="toolbar"
        ng-class="{'pull-right': jointVentureDetailsCtrl.submittent.jointVentures.length > 0}">
        <button type="button" data-ng-click="jointVentureDetailsCtrl.addCompany()" class="btn btn-primary"
          data-toggle="modal" data-target="#hinzufügen"
          data-ng-disabled="jointVentureDetailsCtrl.addJointVentureDisabled()">
          <span class="fa fa-plus" aria-hidden="true"></span> ARGE hinzufügen
        </button>
      </div>
    </div>
    <div class="col-sm-12">
      <ul class="list-group">
        <li class="list-group-item" ng-if="jointVentureDetailsCtrl.submittent.companyId.companyName"
          ng-repeat="jointVenture in jointVentureDetailsCtrl.submittent.jointVentures | orderBy : 'companyName'">
          {{jointVenture.companyName}},
          {{jointVenture.location}}
          <a type="button" class="btn btn-primary pull-right"
            ng-if="jointVentureDetailsCtrl.deleteJointVentureDisabled()" data-ng-disabled="true" title="ARGE entfernen">
            <span class="fa fa-trash" aria-hidden="true"></span></a>
          <a type="button" class="btn btn-primary pull-right"
            data-ng-click="jointVentureDetailsCtrl.deleteJointVentureModal(jointVentureDetailsCtrl.submittent.id, jointVenture.id)"
            ng-if="!jointVentureDetailsCtrl.deleteJointVentureDisabled()" title="ARGE entfernen"> <span
              class="fa fa-trash" aria-hidden="true"></span></a>
        </li>
      </ul>
    </div>
  </fieldset>
</div>
