<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

  <changeSet author="European Dynamics SA" id="submiss_0003">
    <sql>


      DROP TABLE IF EXISTS STAGE_TBLARBEITSGATTUNG;
      DROP TABLE IF EXISTS STAGE_TBLARGEUBER;
      DROP TABLE IF EXISTS STAGE_TBLAUTONWAUFFORDERUNG;
      DROP TABLE IF EXISTS STAGE_TBLBETRIEBSKOSTEN;
      DROP TABLE IF EXISTS STAGE_TBLDIRABT;
      DROP TABLE IF EXISTS STAGE_TBLDIRKUERZEL;
      DROP TABLE IF EXISTS STAGE_TBLDOKUMENT;
      DROP TABLE IF EXISTS STAGE_TBLDOKUMENTKANTON;
      DROP TABLE IF EXISTS STAGE_TBLEIGNUNGSBEWERTUNG;
      DROP TABLE IF EXISTS STAGE_TBLEIGNUNGSKRITERIUM;
      DROP TABLE IF EXISTS STAGE_TBLEIGUNGBEWERTETDURCH;
      DROP TABLE IF EXISTS STAGE_TBLEWBUNTERZEICHNER;
      DROP TABLE IF EXISTS STAGE_TBLFIRMA;
      DROP TABLE IF EXISTS STAGE_TBLFIRMANACHWEISEBESTELLEN;
      DROP TABLE IF EXISTS STAGE_TBLFIRMAZUSATZ;
      DROP TABLE IF EXISTS STAGE_TBLKANTONZUSATZ;
      DROP TABLE IF EXISTS STAGE_TBLKRITERIUM;
      DROP TABLE IF EXISTS STAGE_TBLKRITERIUMBETRIEBSKOSTEN;
      DROP TABLE IF EXISTS STAGE_TBLLAND;
      DROP TABLE IF EXISTS STAGE_TBLMANDANT;
      DROP TABLE IF EXISTS STAGE_TBLNACHTRAG;
      DROP TABLE IF EXISTS STAGE_TBLNACHWEIS;
      DROP TABLE IF EXISTS STAGE_TBLNEBENKOSTEN;
      DROP TABLE IF EXISTS STAGE_TBLOFFERTE;
      DROP TABLE IF EXISTS STAGE_TBLOFFERTEIGNUNGSKRITERIUM;
      DROP TABLE IF EXISTS STAGE_TBLOFFERTEKRITERIUM;
      DROP TABLE IF EXISTS STAGE_TBLOFFERTEUKRITERIUM;
      DROP TABLE IF EXISTS STAGE_TBLOFFERTOEFFNUNGARGE;
      DROP TABLE IF EXISTS STAGE_TBLPREISFORMEL;
      DROP TABLE IF EXISTS STAGE_TBLPREISFORMELBETRIEBSKOSTEN;
      DROP TABLE IF EXISTS STAGE_TBLPROJEKT;
      DROP TABLE IF EXISTS STAGE_TBLPROJEKTBERECHTIGUNGEN;
      DROP TABLE IF EXISTS STAGE_TBLSUBMISSION;
      DROP TABLE IF EXISTS STAGE_TBLSUBMISSIONFORMELBETRIEBSKOSTEN;
      DROP TABLE IF EXISTS STAGE_TBLSUBMITTENT;
      DROP TABLE IF EXISTS STAGE_TBLSUBMITTENTENLISTEPRUEFEN;
      DROP TABLE IF EXISTS STAGE_TBLUNTERKRITERIEN;
      DROP TABLE IF EXISTS STAGE_TBLVERFAHREN;
      DROP TABLE IF EXISTS STAGE_TBLVERFAHRENSABBRUCH;
      DROP TABLE IF EXISTS STAGE_TBLWORDADRESSEN;
      DROP TABLE IF EXISTS STAGE_TBLWORDADRESSENOLD;
      DROP TABLE IF EXISTS STAGE_TBLWORDTEMPLATE;
      DROP TABLE IF EXISTS STAGE_TBLWORDTEMPLATEOLD;
      DROP TABLE IF EXISTS STAGE_LNKARGE;
      DROP TABLE IF EXISTS STAGE_LNKFIRMAARBEITSGATTUNG;
      DROP TABLE IF EXISTS STAGE_LNKFIRMAKANTONNACHWEIS;
      DROP TABLE IF EXISTS STAGE_LNKFIRMANACHWEIS;
      DROP TABLE IF EXISTS STAGE_LNKFIRMANACHWEISABLAGE;


      CREATE TABLE STAGE_TBLARBEITSGATTUNG(
      AGID CHAR(36),
      AGNR VARCHAR(50),
      AGBEZEICHNUNG VARCHAR(50)
      );


      CREATE TABLE STAGE_TBLARGEUBER(
      ID INT ,
      FTEL VARCHAR(50),
      AGNR VARCHAR(50)
      );


      CREATE TABLE STAGE_TBLAUTONWAUFFORDERUNG(
      FID CHAR(36),
      DTAUFFORDERUNG DATETIME,
      STRADRESSE VARCHAR(4000),
      STRAUFVON VARCHAR(4000)
      );


      CREATE TABLE STAGE_TBLBETRIEBSKOSTEN(
      BID CHAR(36),
      STID CHAR(36),
      BBRUTTOBETRAG DECIMAL(18,2),
      BKORRIGIERT BIT,
      BBETRAGKORRIGIERT DECIMAL(18,2),
      BRABATT DECIMAL(18,2),
      BRABATTPERCENT BIT,
      BMWST BIT,
      BMWSTBETRAG DECIMAL(18, 2),
      BSKONTO DECIMAL(18,2),
      BSKONTOPERCENT BIT,
      BSKONTOTAG INT,
      BTEUERUNG VARCHAR(50),
      BINFOS VARCHAR(4000),
      BTITEL VARCHAR(4000),
      BNETTOBETRAG DECIMAL(18,2)
      );


      CREATE TABLE STAGE_TBLDIRABT(
      DIREKTION VARCHAR(50),
      ABTEILUNG VARCHAR(100),
      BENUTZERKUERZEL VARCHAR(10)
      );


      CREATE TABLE STAGE_TBLDIRKUERZEL(
      DIREKTION VARCHAR(4000),
      KUERZEL VARCHAR(50)
      );


      CREATE TABLE STAGE_TBLDOKUMENT(
      DID CHAR(36),
      FID CHAR(36),
      DFILENAME VARCHAR(100),
      DORIGINALPATH VARCHAR(2000),
      DBESCHREIBUNG VARCHAR(250),
      DMODI DATETIME,
      DOPI VARCHAR(100),
      DVERTRAULICH BIT,
      DVERTBB BIT,
      FILE_CONTENT LONGBLOB
      );


      CREATE TABLE STAGE_TBLDOKUMENTKANTON(
      DID CHAR(36) ,
      FID CHAR(36),
      DFILENAME VARCHAR(100),
      DORIGINALPATH VARCHAR(2000),
      DBESCHREIBUNG VARCHAR(250),
      DMODI DATETIME,
      DOPI VARCHAR(100),
      DVERTRAULICH BIT,
      DVERTBB BIT
      );


      CREATE TABLE STAGE_TBLEIGNUNGSBEWERTUNG(
      EKRID CHAR(36),
      OID CHAR(36),
      BEWERTUNG BIT,
      BEMERKUNG VARCHAR(4000)
      );


      CREATE TABLE STAGE_TBLEIGNUNGSKRITERIUM(
      EKRID CHAR(36) ,
      SID CHAR(36),
      KRTEXT VARCHAR(50)
      );


      CREATE TABLE STAGE_TBLEIGUNGBEWERTETDURCH(
      SID CHAR(36),
      BEWERTETDURCH VARCHAR(50),
      OHNENACHWEISE BIT
      );


      CREATE TABLE STAGE_TBLEWBUNTERZEICHNER(
      EWBUNTERZEICHNERID INT ,
      EWBUNTERZEICHNERNAME VARCHAR(100),
      EWBUNTERZEICHNERTITEL VARCHAR(100),
      EWBABTEILUNG INT
      );


      CREATE TABLE STAGE_TBLFIRMA(
      FID CHAR(36),
      LDID CHAR(36),
      FKURZ VARCHAR(50),
      FNAME VARCHAR(100),
      FZUSATZ VARCHAR(100),
      FADRESSE1 VARCHAR(100),
      FADRESSE2 VARCHAR(100),
      FPLZ VARCHAR(10),
      FORT VARCHAR(50),
      FBRANCHE VARCHAR(100),
      FTEL VARCHAR(20),
      FFAX VARCHAR(20),
      FEMAIL VARCHAR(100),
      FWEBSITE VARCHAR(250),
      FNACHWEISSTATUS TINYINT,
      FBEMERKUNGEN VARCHAR(4000),
      FMODI DATETIME,
      FOPI VARCHAR(100),
      FKONKURSITEFIRMA BIT,
      FANZAHLMA INT,
      FANZAHLLEHR INT,
      FLEHRFAKTOR FLOAT,
      FLEHRHERKUNFT VARCHAR(50),
      FLEHRDATUM DATETIME,
      FANZAHLFRAUEN INT,
      FANZAHLMAENNER INT,
      FLOGIB BIT,
      FLOGIBDATE DATETIME,
      FKEINENACHWEISAUF BIT,
      ADDDATE DATETIME,
      ADDROLE VARCHAR(50),
      ADDUSER VARCHAR(50)
      );


      CREATE TABLE STAGE_TBLFIRMANACHWEISEBESTELLEN(
      FID CHAR(36),
      STRMAILPL VARCHAR(150)
      );


      CREATE TABLE STAGE_TBLFIRMAZUSATZ(
      FID CHAR(36),
      STRALLGEMEINEBEMERKUNGEN TEXT,
      STRBEVORZUGTEFIRMA VARCHAR(250),
      STRZUSATZANGABEFIRMA VARCHAR(250)
      );


      CREATE TABLE STAGE_TBLKANTONZUSATZ(
      IDKANTON CHAR(36),
      FID CHAR(36),
      KNACHWEISSTATUS TINYINT,
      KFIRMENBEMERKUNG TEXT,
      KNACHWEISDOKU VARCHAR(50),
      KZERTIFIKAT DATETIME
      );


      CREATE TABLE STAGE_TBLKRITERIUM(
      KRID CHAR(36),
      SID CHAR(36),
      KRTEXT VARCHAR(50),
      KRGEWICHTUNG DECIMAL(16, 2)
      );


      CREATE TABLE STAGE_TBLKRITERIUMBETRIEBSKOSTEN(
      KRIDBETR CHAR(36),
      SID CHAR(36)
      );


      CREATE TABLE STAGE_TBLLAND(
      LDID CHAR(36),
      LDLAND VARCHAR(50),
      LDKURZ VARCHAR(50)
      );


      CREATE TABLE STAGE_TBLMANDANT(
      MANNUMBER INT,
      MANADMINGROUP VARCHAR(50),
      MANUSERGROUP VARCHAR(50),
      MANDESCRIPTION VARCHAR(50),
      MANMAIN BIT,
      MANADMINEWBGROUP VARCHAR(50),
      MANADMINTVSGROUP VARCHAR(50)
      );


      CREATE TABLE STAGE_TBLNACHTRAG(
      IDNA CHAR(36),
      OID CHAR(36),
      NANR INT,
      NATITEL VARCHAR(255),
      NABESCHREIBUNG VARCHAR(4000),
      NABRUTTOBETRAG DECIMAL(18,2),
      NARABATT DECIMAL(18, 2),
      NARABATTPERZENT BIT,
      NARABATTWERT DECIMAL(18,2),
      NASKONTO DECIMAL(18, 2),
      NASKONTOPERZENT BIT,
      NASKONTOBETRAG DECIMAL(18,2),
      NAMWST DECIMAL(18, 2),
      NAMWSTBETRAG DECIMAL(18,2),
      NAZURABATT DECIMAL(18, 2),
      NAZURABATTPERZENT BIT,
      NAZURABATTBETRAG DECIMAL(18,2),
      NARABATTGESAMMT BIT,
      NARABATTNACHTRAG BIT,
      NARABATTAUFBATRAG VARCHAR(50),
      NAZURABATTBESCHR VARCHAR(4000),
      NANETTOBETRAG DECIMAL(18,2),
      NADATUM DATETIME,
      NAOFFERTDATUM DATETIME
      );


      CREATE TABLE STAGE_TBLNACHWEIS(
      NWID CHAR(36),
      NWBEZEICHNUNG VARCHAR(20),
      NWLANGTEXT VARCHAR(4000),
      NWSORT INT,
      NWLANGTEXTFR VARCHAR(4000),
      TYPEID INT
      );


      CREATE TABLE STAGE_TBLNEBENKOSTEN(
      NID INT ,
      OID CHAR(36),
      NKOSTENBRUTTO DECIMAL(18,2),
      NKOSTENPROZENT BIT,
      NKOSTENMWST BIT,
      NKOSTENNETTO DECIMAL(18,2),
      NKOSTENMWSTBETRAG DECIMAL(18,2),
      NKOSTENANGABE DECIMAL(10, 2)
      );


      CREATE TABLE STAGE_TBLOFFERTE(
      OID CHAR(36),
      STID CHAR(36),
      OZUSCHLAG BIT,
      ODATUM DATETIME,
      OTEILOFFERTE BIT,
      OVERFAHRENSAUSSCHLUSS BIT,
      OVARIANTEN BIT,
      OVERRECHNUNG SMALLINT,
      OBRUTTOBETRAG DECIMAL(18,2),
      ONETTOBETRAG INT,
      OKORRIGIERT BIT,
      OBETRAGKORRIGIERT DECIMAL(18,2),
      ORABATT DECIMAL(18,2),
      ORABATTPERCENT BIT,
      OMWST BIT,
      OSKONTO DECIMAL(18,2),
      OSKONTOPERCENT BIT,
      OSKONTOTAGE INT,
      OTEUERUNG VARCHAR(50),
      OBEMERKUNGEN VARCHAR(4000),
      OMODI DATETIME,
      OOPI VARCHAR(100),
      ORANG INT,
      OLEEREOFFERTE BIT,
      OFIRMASTATUSEINGANG NCHAR(10),
      OMWSTWERT DECIMAL(18, 2),
      OSTATUSOHNEARGE NCHAR(10)
      );


      CREATE TABLE STAGE_TBLOFFERTEIGNUNGSKRITERIUM(
      KRID CHAR(36),
      OID CHAR(36),
      OKNOTE NUMERIC(16, 2)
      );


      CREATE TABLE STAGE_TBLOFFERTEKRITERIUM(
      KRID CHAR(36),
      OID CHAR(36),
      OKNOTE DECIMAL(18, 2)
      );


      CREATE TABLE STAGE_TBLOFFERTEUKRITERIUM(
      UKRID CHAR(36),
      KRID CHAR(36),
      OID CHAR(36),
      OKNOTE DECIMAL(18, 2)
      );


      CREATE TABLE STAGE_TBLOFFERTOEFFNUNGARGE(
      OID CHAR(36),
      STID CHAR(36),
      FID CHAR(36),
      OARGESTATUSEINGABEDATUM NCHAR(10)
      );


      CREATE TABLE STAGE_TBLPREISFORMEL(
      PFID CHAR(36),
      PFNAME VARCHAR(50),
      PFFORMEL VARCHAR(255)
      );


      CREATE TABLE STAGE_TBLPREISFORMELBETRIEBSKOSTEN(
      PFBID CHAR(36),
      PFBNAME VARCHAR(50),
      PFBFORMEL VARCHAR(255)
      );


      CREATE TABLE STAGE_TBLPROJEKT(
      PID CHAR(36),
      FID_BAULEITUNG CHAR(36),
      PNAME VARCHAR(250),
      PSTRASSE VARCHAR(250),
      PBESCHREIBUNG VARCHAR(250),
      PPROJEKTLEITER VARCHAR(50),
      PBAUHERR VARCHAR(50),
      PSTATUS SMALLINT,
      PDIREKTION VARCHAR(50),
      PABTEILUNG VARCHAR(100),
      PPROJEKTBEGIN DATETIME,
      PPROJEKTENDE DATETIME,
      PBEMERKUNGEN VARCHAR(4000),
      PMODI DATETIME,
      POPI VARCHAR(100),
      PMANDANT INT,
      PB31 VARCHAR(50),
      PSGBNUMMER VARCHAR(50)
      );


      CREATE TABLE STAGE_TBLPROJEKTBERECHTIGUNGEN(
      PID CHAR(36),
      USEROBJECTGUID CHAR(36)
      );


      CREATE TABLE STAGE_TBLSUBMISSION(
      SID CHAR(36),
      PID CHAR(36),
      AGID CHAR(36),
      FID_BAULEITUNG CHAR(36),
      SVERFAHREN SMALLINT,
      SEINGABETERMIN DATETIME,
      SBESCHREIBUNG VARCHAR(250),
      SKOSTENVORANSCHLAG FLOAT,
      SPROJEKTLEITER VARCHAR(250),
      SPROTOKOLL VARCHAR(250),
      SGESPERRT BIT,
      SBEMERKUNGEN VARCHAR(4000),
      SMODI DATETIME,
      SOPI VARCHAR(100),
      SBEWERTUNG VARCHAR(500),
      SGEWICHTUNGPREIS DECIMAL(16, 2),
      SFORMELPREIS VARCHAR(4000),
      SBEWERTUNGMINDESTNOTE INT,
      SPUBLIKATION DATETIME,
      SDRUCKDATUM DATETIME,
      SVERTRAGGEDRUCKT BIT,
      SOFFERTOEFFNUNG DATETIME,
      SDIENSTLEISTUNG BIT,
      SKONTONR VARCHAR(50),
      SDATUMPRUEFEN DATETIME,
      SDATUMGEPRUEF DATETIME,
      SBEWERTUNGMAXNOTE INT
      );


      CREATE TABLE STAGE_TBLSUBMISSIONFORMELBETRIEBSKOSTEN(
      SID CHAR(36),
      PFBFORMEL VARCHAR(4000)
      );


      CREATE TABLE STAGE_TBLSUBMITTENT(
      STID CHAR(36),
      SID CHAR(36),
      FID CHAR(36)
      );


      CREATE TABLE STAGE_TBLSUBMITTENTENLISTEPRUEFEN(
      SID CHAR(36),
      STRMAILPL VARCHAR(150)
      );


      CREATE TABLE STAGE_TBLUNTERKRITERIEN(
      UKID CHAR(36),
      KRID CHAR(36),
      SID CHAR(36),
      KRTXTGEW VARCHAR(100),
      UKTEXT VARCHAR(50),
      UKGEWICHTUNG DECIMAL(16, 2),
      MAXWERT DECIMAL(16, 2)
      );


      CREATE TABLE STAGE_TBLVERFAHREN(
      IDVERFAHREN INT,
      STRVERFAHRENNAME VARCHAR(50),
      TFVERFAHRENUSER BIT
      );


      CREATE TABLE STAGE_TBLVERFAHRENSABBRUCH(
      IDVERABBRUCH INT,
      STROBV VARCHAR(50),
      STRBEGRUENDUNG VARCHAR(2000),
      DTDATUM DATETIME,
      TFSTATUS BIT,
      SID CHAR(36)
      );


      CREATE TABLE STAGE_TBLWORDADRESSEN(
      IDWDADR INT,
      WDADRBEZEICHNUNG VARCHAR(50),
      WDARDDIREKTIONKOPF VARCHAR(50),
      WDARDDIREKTION VARCHAR(50),
      WDADRADRESSE VARCHAR(4000),
      WDUNTERSCHRIFT VARCHAR(255),
      WDUNTERSCHRIFT2 VARCHAR(255),
      WDADRABTEILUNG VARCHAR(255)
      );


      CREATE TABLE STAGE_TBLWORDADRESSENOLD(
      IDWDADR INT,
      WDADRBEZEICHNUNG VARCHAR(50),
      WDARDDIREKTIONKOPF VARCHAR(50),
      WDARDDIREKTION VARCHAR(50),
      WDADRADRESSE VARCHAR(4000),
      WDUNTERSCHRIFT VARCHAR(255),
      WDUNTERSCHRIFT2 VARCHAR(255)
      );


      CREATE TABLE STAGE_TBLWORDTEMPLATE(
      WTID CHAR(36) ,
      WTPFAD VARCHAR(255),
      WTART INT,
      WTVERFAHREN INT,
      WTVARIANTE VARCHAR(100),
      WTABTEILUNG INT,
      WTNRMEHRFACHEINTRAG INT,
      WTBRIEFKOPFID INT,
      WTPFADVORLAGE VARCHAR(255)
      );


      CREATE TABLE STAGE_TBLWORDTEMPLATEOLD(
      WTID CHAR(36),
      WTPFAD VARCHAR(255),
      WTART INT,
      WTVERFAHREN INT,
      WTVARIANTE VARCHAR(100),
      WTABTEILUNG INT,
      WTNRMEHRFACHEINTRAG INT
      );

      CREATE TABLE STAGE_LNKARGE(
      STID CHAR(36) NOT NULL,
      FID CHAR(36) NOT NULL
      );

      CREATE TABLE STAGE_LNKFIRMAARBEITSGATTUNG(
      AGID CHAR(36) NOT NULL,
      FID CHAR(36) NOT NULL
      );

      CREATE TABLE STAGE_LNKFIRMAKANTONNACHWEIS(
      FID CHAR(36) NULL,
      NWID CHAR(36) NULL,
      FNDATUM DATETIME NOT NULL
      );

      CREATE TABLE STAGE_LNKFIRMANACHWEIS(
      FID CHAR(36) NOT NULL,
      NWID CHAR(36) NOT NULL,
      FNDATUM DATETIME NULL
      );

      CREATE TABLE STAGE_LNKFIRMANACHWEISABLAGE(
      FID CHAR(36) NOT NULL,
      NWID CHAR(36) NOT NULL,
      TXTABLAGE VARCHAR(100) NOT NULL
      );


    </sql>
  </changeSet>

</databaseChangeLog>
